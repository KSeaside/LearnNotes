# 并发三要素

### 可见性: CPU缓存引起

可见性：一个线程对共享变量的修改，另外一个线程能够立刻看到。


### 原子性: 分时复用引起

原子性：即一个操作或者多个操作 要么全部执行并且执行的过程不会被任何因素打断，要么就都不执行。

### 有序性: 重排序引起

有序性：即程序执行的顺序按照代码的先后顺序执行。

在执行程序时为了提高性能，编译器和处理器常常会对指令做重排序。重排序分三种类型：

    🚀 编译器优化的重排序。编译器在不改变单线程程序语义的前提下，可以重新安排语句的执行顺序。

    🚀 指令级并行的重排序。现代处理器采用了指令级并行技术（Instruction-Level Parallelism， ILP）
    来将多条指令重叠执行。如果不存在数据依赖性，处理器可以改变语句对应机器指令的执行顺序。 
    
    🚀 内存系统的重排序。由于处理器使用缓存和读 / 写缓冲区，这使得加载和存储操作看上去可能是在乱序执行。 

从 java 源代码到最终实际执行的指令序列，会分别经历下面三种重排序：

![图片](img/J1.png)



# 线程

## 状态转换

![图片](img/J1.png)


## 创建线程三种方式


    实现 Runnable 接口；
    实现 Callable 接口；
    继承 Thread 类。
















